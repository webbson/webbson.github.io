<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.d0eb569acf6d40b38a97.css" id="gatsby-global-css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}body,html{margin:0;padding:0}body{background-color:var(--outside);overflow-y:scroll;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:16px}*{box-sizing:border-box}.wrapper{max-width:var(--max-content);margin:0 auto;background-color:var(--text-area);color:var(--text-color);min-height:100vh;opacity:0;transition:max-width .5s ease,color .5s ease,background-color .5s ease,opacity .5s ease .5s}.wrapper.wide{max-width:var(--max-content-wide)}.wrapper.dark{background-color:var(--text-area-dark)}.wrapper.dark,.wrapper.dark main a{color:var(--text-color-dark)}.wrapper.loaded{opacity:1}main{width:100%;padding:2em}main a{color:var(--text-color)}.gatsby-highlight{border:1px solid var(--accent)}.gatsby-highlight>*{margin:0!important}hr{border:1px solid var(--accent);margin:20px 0}.blog-post>section>table{border-collapse:collapse}.blog-post>section>table td,.blog-post>section>table th{border:1px solid var(--accent);padding:5px 15px;text-align:left}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}:root{--max-content:768px;--max-content-wide:1920px;--mobile-max:767px;--desktop:768px;--text-area:#efefef;--text-color:#303030;--outside:#606060;--outside-text:#efefef;--accent:#d6ed17;--text-area-dark:#303030;--text-color-dark:#efefef}.navigation-module--nav--ziCcR{background-color:var(--outside);padding:1em;border-bottom:2px solid var(--accent);display:flex;justify-content:space-between}.navigation-module--title--1-2_e{font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace}.navigation-module--link--2JAmB,.navigation-module--title--1-2_e{color:var(--outside-text);text-decoration:none;text-transform:lowercase}.navigation-module--link--2JAmB+.navigation-module--link--2JAmB{margin-left:15px}.navigation-module--toggle--m6_mB{background-color:transparent;border:0;outline:none;margin-left:15px;cursor:pointer;padding:0}.navigation-module--toggle--m6_mB svg{width:20px;height:20px}.navigation-module--toggle--m6_mB svg path{fill:#efefef}.navigation-module--wideToggle--19L19{display:none}@media (min-width:868px){.navigation-module--wideToggle--19L19{display:inline-block}}.postlist-module--post--2yiXG{padding:20px 0}.postlist-module--post--2yiXG+.postlist-module--post--2yiXG{border-top:1px solid var(--accent)}.postlist-module--url--3iZEY{color:var(--text-color);text-decoration:none}.postlist-module--title--2h6OQ{margin:0 0 10px;padding:0}.postlist-module--date--3mNmA{font-weight:200;margin-right:20px}.postlist-module--excerpt--2c4Oy{margin:0;padding:10px 0 0}.tags-module--tag--2glfG{font-size:10px;font-weight:700;padding:5px;background-color:var(--accent);text-decoration:none;position:relative;transition:color .5s ease}.tags-module--tag--2glfG span{color:var(--text-color)}.tags-module--tag--2glfG:before{z-index:0;content:"";position:absolute;top:0;left:0;width:100%;height:100%;display:block;background-color:transparent;transition:background-color .5s ease}.tags-module--tag--2glfG:hover:before{background-color:rgba(0,0,0,.4)}.tags-module--tag--2glfG+.tags-module--tag--2glfG{margin:0 0 0 10px}.tags-module--innerTag--onR-U{position:relative;z-index:2;display:inline-block}</style><meta name="generator" content="Gatsby 2.28.2"/><link href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css" rel="stylesheet"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=cb0a1f4cf9826b88bdfab88879b59d76" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#d6ed17"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=cb0a1f4cf9826b88bdfab88879b59d76"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=cb0a1f4cf9826b88bdfab88879b59d76"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=cb0a1f4cf9826b88bdfab88879b59d76"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=cb0a1f4cf9826b88bdfab88879b59d76"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=cb0a1f4cf9826b88bdfab88879b59d76"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=cb0a1f4cf9826b88bdfab88879b59d76"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=cb0a1f4cf9826b88bdfab88879b59d76"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=cb0a1f4cf9826b88bdfab88879b59d76"/><title data-react-helmet="true">Gosund SP111 outlet flashed to ESPHome | Tom&#x27;s tech blog</title><meta data-react-helmet="true" name="description" content="My home automation has gone through quite a lot of stages. Here I will describe how my setup looks at the moment."/><meta data-react-helmet="true" property="og:title" content="Gosund SP111 outlet flashed to ESPHome"/><meta data-react-helmet="true" property="og:description" content="My home automation has gone through quite a lot of stages. Here I will describe how my setup looks at the moment."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="webbson_"/><meta data-react-helmet="true" name="twitter:title" content="Gosund SP111 outlet flashed to ESPHome"/><meta data-react-helmet="true" name="twitter:description" content="My home automation has gone through quite a lot of stages. Here I will describe how my setup looks at the moment."/><link as="script" rel="preload" href="/webpack-runtime-075b5726bcd5216af51a.js"/><link as="script" rel="preload" href="/framework-cd3e1e804d552fa282ef.js"/><link as="script" rel="preload" href="/app-4dcf017b93828f5893f6.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/commons-860bd8c08d74af16f8c7.js"/><link as="script" rel="preload" href="/f392fca177af3aab4cc1b9f9883337b948fd7c96-f84e27f836a0b0d63dc2.js"/><link as="script" rel="preload" href="/b7ec4a9a53c2f60dbf6d272eea6248b905830475-fa24200736daf2b6b0f4.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-jsx-b61ec52d5f6953dc41cc.js"/><link as="fetch" rel="preload" href="/page-data/gosund-sp111-esphome/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2841359383.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3700319767.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="wrapper" data-is-root-path="false"><nav class="navigation-module--nav--ziCcR"><a class="navigation-module--title--1-2_e" href="/">Tom&#x27;s tech blog</a><div><a class="navigation-module--toggle--m6_mB navigation-module--link--2JAmB" href="/about"><svg viewBox="0 0 16 16" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 jZGNBW"><path fill-rule="evenodd" d="M6.95.435c.58-.58 1.52-.58 2.1 0l6.515 6.516c.58.58.58 1.519 0 2.098L9.05 15.565c-.58.58-1.519.58-2.098 0L.435 9.05a1.482 1.482 0 010-2.098L6.95.435zm1.4.7a.495.495 0 00-.7 0L1.134 7.65a.495.495 0 000 .7l6.516 6.516a.495.495 0 00.7 0l6.516-6.516a.495.495 0 000-.7L8.35 1.134z"></path><path d="M5.255 5.786a.237.237 0 00.241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 00.25.246h.811a.25.25 0 00.25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"></path></svg></a><button class="navigation-module--toggle--m6_mB navigation-module--wideToggle--19L19"><svg viewBox="0 0 16 16" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 jZGNBW"><path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 00-.707 0l-4.096 4.096V11.5a.5.5 0 00-1 0v3.975a.5.5 0 00.5.5H4.5a.5.5 0 000-1H1.732l4.096-4.096a.5.5 0 000-.707zm4.344-4.344a.5.5 0 00.707 0l4.096-4.096V4.5a.5.5 0 101 0V.525a.5.5 0 00-.5-.5H11.5a.5.5 0 000 1h2.768l-4.096 4.096a.5.5 0 000 .707z"></path></svg></button><button class="navigation-module--toggle--m6_mB"><svg viewBox="0 0 352 512" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 jZGNBW"><path fill="currentColor" d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0026.64 14.28h61.71a31.99 31.99 0 0026.64-14.28l17.09-25.69a31.989 31.989 0 005.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"></path></svg></button></div></nav><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">Gosund SP111 outlet flashed to ESPHome</h1><a class="tags-module--tag--2glfG" href="/tags/home-assistant"><span class="tags-module--innerTag--onR-U">home assistant</span></a><a class="tags-module--tag--2glfG" href="/tags/esphome"><span class="tags-module--innerTag--onR-U">esphome</span></a><a class="tags-module--tag--2glfG" href="/tags/home-automation"><span class="tags-module--innerTag--onR-U">home automation</span></a><p>December 14, 2020</p></header><section itemProp="articleBody"><p>The Gosund SP111 is a smart Wi-Fi plug with energy monitoring and 15A power. They come at a good price and use an ESP8266 which runs Tuya Smart/Smart Life, this is the reason that I’ve bought a bunch of these and flashed them to <a href="https://esphome.io/" target="_blank" rel="nofollow noopener noreferrer">ESPHome</a>.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1920px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/1060f3572e9257ca61e8a41f837bd995/8ec0a/SP111.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 75.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHZXdgWAH//xAAYEAADAQEAAAAAAAAAAAAAAAABAgMQEv/aAAgBAQABBQKpYJM27wZ//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAAcBAAAAAAAAAAAAAAAAAAECEiAhIjH/2gAIAQEABj8Cx0E60x//xAAaEAEAAgMBAAAAAAAAAAAAAAABABEQIWEx/9oACAEBAAE/IUiR7lKqhtqqw+TvH//aAAwDAQACAAMAAAAQ4w//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAACAgMBAAAAAAAAAAAAAAAAAREhEDFhQf/aAAgBAQABPxCbikuF6+l6tQWIwthWtNCZ/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Gosund SP111"
        title="Gosund SP111"
        src="/static/1060f3572e9257ca61e8a41f837bd995/0f98f/SP111.jpg"
        srcset="/static/1060f3572e9257ca61e8a41f837bd995/7cc5e/SP111.jpg 480w,
/static/1060f3572e9257ca61e8a41f837bd995/6a068/SP111.jpg 960w,
/static/1060f3572e9257ca61e8a41f837bd995/0f98f/SP111.jpg 1920w,
/static/1060f3572e9257ca61e8a41f837bd995/8ec0a/SP111.jpg 2560w"
        sizes="(max-width: 1920px) 100vw, 1920px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>All but one of them could be flashed wirelessly via <a href="https://github.com/ct-Open-Source/tuya-convert" target="_blank" rel="nofollow noopener noreferrer">tuya-convert</a>. One of them however needed to be opened and flashed with a USB TTL Converter. The outlets open easily via a screw on the bottom in the hole on the earth connector. Once opened the contact points for connecting the TTL converter are exposed.</p>
<h2>Flashing with TTL Converter</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1920px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/0ad8a696bc4a121f11bcbf9098dfd205/ce598/flashing.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 68.54166666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIFBP/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAEabSL0jFH/xAAdEAABAgcAAAAAAAAAAAAAAAACAxIAARETISIz/9oACAEBAAEFAlCSgAcKIaXRpLllv//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/AWf/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPwEn/8QAHRAAAgIBBQAAAAAAAAAAAAAAABEBIQISIkFRkf/aAAgBAQAGPwJpyMvsWmfSJx20Y8Uf/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFBUf/aAAgBAQABPyH0D3UAjph2d1QyjBDyr4cnImC6n//aAAwDAQACAAMAAAAQqx//xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8Qes//xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QGE//xAAdEAEAAgIDAQEAAAAAAAAAAAABABEhMUFRwWGR/9oACAEBAAE/EAFHiZ7d6qKlZWWFkOJltca8nURrol74gj+bIyviekb7cgGrctfs/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Flashing SP111"
        title="Flashing SP111"
        src="/static/0ad8a696bc4a121f11bcbf9098dfd205/0f98f/flashing.jpg"
        srcset="/static/0ad8a696bc4a121f11bcbf9098dfd205/7cc5e/flashing.jpg 480w,
/static/0ad8a696bc4a121f11bcbf9098dfd205/6a068/flashing.jpg 960w,
/static/0ad8a696bc4a121f11bcbf9098dfd205/0f98f/flashing.jpg 1920w,
/static/0ad8a696bc4a121f11bcbf9098dfd205/eec88/flashing.jpg 2880w,
/static/0ad8a696bc4a121f11bcbf9098dfd205/ce598/flashing.jpg 2997w"
        sizes="(max-width: 1920px) 100vw, 1920px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>You just connect the RX on your TTL to the TX on the SP111 and the TX on the TTL to the RX on the SP111. 3.3v and GND are connected to their respective pins</p>
<table>
<thead>
<tr>
<th>TTL</th>
<th>SP111</th>
</tr>
</thead>
<tbody>
<tr>
<td>3.3v</td>
<td>3.3v</td>
</tr>
<tr>
<td>GND</td>
<td>GND</td>
</tr>
<tr>
<td>RX</td>
<td>TX</td>
</tr>
<tr>
<td>TX</td>
<td>RX</td>
</tr>
<tr>
<td>GND*</td>
<td>GPIO0</td>
</tr>
</tbody>
</table>
<p>* Connected a couple of seconds when power is connected to enter flash mode.</p>
<p>After that it was just a matter of using <a href="https://github.com/espressif/esptool" target="_blank" rel="nofollow noopener noreferrer">esptool</a> to flash the SP111.</p>
<p>First erasing the flash</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> esptool.py --port /dev/ttyUSB0 erase_flash</code></pre></div>
<p>And then writing the firmware to it. sp111 being the firmware generated by <a href="https://esphome.io/" target="_blank" rel="nofollow noopener noreferrer">ESPHome</a> below.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> esptool.py --port /dev/ttyUSB0 write_flash -fs 1MB -fm dout 0x0 sp111.bin</code></pre></div>
<h2>Generating firmware in ESPHome</h2>
<p>The firmware is generated by compiling one of the yamls below in <a href="https://esphome.io/" target="_blank" rel="nofollow noopener noreferrer">ESPHome</a> and then downloading that file to the working directory of <a href="https://github.com/espressif/esptool" target="_blank" rel="nofollow noopener noreferrer">esptool</a>.
I’ve created two different yamls depending on if you wish to show your SP111 as a light or a switch in Home assistant.</p>
<h3>SP111 exposed as a light source</h3>
<p><div id="gist106092719" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-gosund-sp111-light-yaml" class="file my-2">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-yaml  ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-gosund-sp111-light-yaml-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">substitutions</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-gosund-sp111-light-yaml-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">plug</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>Kitchen window<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-gosund-sp111-light-yaml-LC3" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">plug_internal</span>: <span class="pl-s">kitchen_window</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-gosund-sp111-light-yaml-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">voltage_divider</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>771<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-gosund-sp111-light-yaml-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">current_resistor</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>0.0012<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-gosund-sp111-light-yaml-LC6" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-gosund-sp111-light-yaml-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">esphome</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-gosund-sp111-light-yaml-LC8" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">name</span>: <span class="pl-s">$plug_internal</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-gosund-sp111-light-yaml-LC9" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">platform</span>: <span class="pl-s">ESP8266</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-gosund-sp111-light-yaml-LC10" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">board</span>: <span class="pl-s">esp8285</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-gosund-sp111-light-yaml-LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-gosund-sp111-light-yaml-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">wifi</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-gosund-sp111-light-yaml-LC13" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">ssid</span>: <span class="pl-s">!secret wifiname</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-gosund-sp111-light-yaml-LC14" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">password</span>: <span class="pl-s">!secret wifipass</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-gosund-sp111-light-yaml-LC15" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">#</span> Enable fallback hotspot (captive portal) in case wifi connection fails</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-gosund-sp111-light-yaml-LC16" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">ap</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-gosund-sp111-light-yaml-LC17" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">ssid</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>${plug} fallback hotspot<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-gosund-sp111-light-yaml-LC18" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">password</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>3XtYLy5n2pgc<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-gosund-sp111-light-yaml-LC19" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-gosund-sp111-light-yaml-LC20" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">captive_portal</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-gosund-sp111-light-yaml-LC21" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-gosund-sp111-light-yaml-LC22" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">#</span> Enable logging</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-gosund-sp111-light-yaml-LC23" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">logger</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-gosund-sp111-light-yaml-LC24" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-gosund-sp111-light-yaml-LC25" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">#</span> Enable Home Assistant API</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-gosund-sp111-light-yaml-LC26" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">api</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-gosund-sp111-light-yaml-LC27" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-gosund-sp111-light-yaml-LC28" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">ota</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-gosund-sp111-light-yaml-LC29" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-gosund-sp111-light-yaml-LC30" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">web_server</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-gosund-sp111-light-yaml-LC31" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">port</span>: <span class="pl-c1">80</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-gosund-sp111-light-yaml-LC32" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-gosund-sp111-light-yaml-LC33" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">sensor</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-gosund-sp111-light-yaml-LC34" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">#</span> Power sensor</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-gosund-sp111-light-yaml-LC35" class="blob-code blob-code-inner js-file-line">  - <span class="pl-ent">platform</span>: <span class="pl-s">hlw8012</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-gosund-sp111-light-yaml-LC36" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">voltage_divider</span>: <span class="pl-s">$voltage_divider</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-gosund-sp111-light-yaml-LC37" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">current_resistor</span>: <span class="pl-s">$current_resistor</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-gosund-sp111-light-yaml-LC38" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">sel_pin</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-gosund-sp111-light-yaml-LC39" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">number</span>: <span class="pl-s">GPIO12</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-gosund-sp111-light-yaml-LC40" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">inverted</span>: <span class="pl-c1">true</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-gosund-sp111-light-yaml-LC41" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">cf_pin</span>: <span class="pl-s">GPIO05</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-gosund-sp111-light-yaml-LC42" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">cf1_pin</span>: <span class="pl-s">GPIO04</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-gosund-sp111-light-yaml-LC43" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">change_mode_every</span>: <span class="pl-c1">3</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-gosund-sp111-light-yaml-LC44" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">update_interval</span>: <span class="pl-c1">5s</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-gosund-sp111-light-yaml-LC45" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">#</span> Current sensor</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-gosund-sp111-light-yaml-LC46" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">current</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-gosund-sp111-light-yaml-LC47" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">name</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>${plug} current<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-gosund-sp111-light-yaml-LC48" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">unit_of_measurement</span>: <span class="pl-s">A</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-gosund-sp111-light-yaml-LC49" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">accuracy_decimals</span>: <span class="pl-c1">3</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-gosund-sp111-light-yaml-LC50" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">#</span> Voltage sensor</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-gosund-sp111-light-yaml-LC51" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">voltage</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-gosund-sp111-light-yaml-LC52" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">name</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>${plug} voltage<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-gosund-sp111-light-yaml-LC53" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">unit_of_measurement</span>: <span class="pl-s">V</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-gosund-sp111-light-yaml-LC54" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">accuracy_decimals</span>: <span class="pl-c1">1</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-gosund-sp111-light-yaml-LC55" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">#</span> Power sensor</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-gosund-sp111-light-yaml-LC56" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">power</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-gosund-sp111-light-yaml-LC57" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">id</span>: <span class="pl-s">power</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-gosund-sp111-light-yaml-LC58" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">name</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>${plug} power<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-gosund-sp111-light-yaml-LC59" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">unit_of_measurement</span>: <span class="pl-s">W</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-gosund-sp111-light-yaml-LC60" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">accuracy_decimals</span>: <span class="pl-c1">0</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-gosund-sp111-light-yaml-LC61" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">filters</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-gosund-sp111-light-yaml-LC62" class="blob-code blob-code-inner js-file-line">      - <span class="pl-ent">multiply</span>: <span class="pl-c1">0.5</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-gosund-sp111-light-yaml-LC63" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-gosund-sp111-light-yaml-LC64" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">binary_sensor</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-gosund-sp111-light-yaml-LC65" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">#</span> Binary sensor for the button press</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-gosund-sp111-light-yaml-LC66" class="blob-code blob-code-inner js-file-line">  - <span class="pl-ent">platform</span>: <span class="pl-s">gpio</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-gosund-sp111-light-yaml-LC67" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">name</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>${plug} button<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-gosund-sp111-light-yaml-LC68" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">pin</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-gosund-sp111-light-yaml-LC69" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">number</span>: <span class="pl-s">GPIO13</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-gosund-sp111-light-yaml-LC70" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">inverted</span>: <span class="pl-c1">true</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-gosund-sp111-light-yaml-LC71" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">on_press</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-gosund-sp111-light-yaml-LC72" class="blob-code blob-code-inner js-file-line">      - <span class="pl-ent">light.toggle</span>: <span class="pl-s">internal_light</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-gosund-sp111-light-yaml-LC73" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="file-gosund-sp111-light-yaml-LC74" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">output</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="file-gosund-sp111-light-yaml-LC75" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">#</span> Relay state led</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="file-gosund-sp111-light-yaml-LC76" class="blob-code blob-code-inner js-file-line">  - <span class="pl-ent">platform</span>: <span class="pl-s">esp8266_pwm</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="file-gosund-sp111-light-yaml-LC77" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">id</span>: <span class="pl-s">state_led</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="file-gosund-sp111-light-yaml-LC78" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">pin</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="file-gosund-sp111-light-yaml-LC79" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">number</span>: <span class="pl-s">GPIO2</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="file-gosund-sp111-light-yaml-LC80" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">inverted</span>: <span class="pl-c1">true</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="file-gosund-sp111-light-yaml-LC81" class="blob-code blob-code-inner js-file-line">  - <span class="pl-ent">platform</span>: <span class="pl-s">gpio</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="file-gosund-sp111-light-yaml-LC82" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">id</span>: <span class="pl-s">light_relay</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="file-gosund-sp111-light-yaml-LC83" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">pin</span>: <span class="pl-s">GPIO15</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="file-gosund-sp111-light-yaml-LC84" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="file-gosund-sp111-light-yaml-LC85" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">light</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="file-gosund-sp111-light-yaml-LC86" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">#</span> Relay state light</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="file-gosund-sp111-light-yaml-LC87" class="blob-code blob-code-inner js-file-line">  - <span class="pl-ent">platform</span>: <span class="pl-s">monochromatic</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="file-gosund-sp111-light-yaml-LC88" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">output</span>: <span class="pl-s">state_led</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="file-gosund-sp111-light-yaml-LC89" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">id</span>: <span class="pl-s">led</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="file-gosund-sp111-light-yaml-LC90" class="blob-code blob-code-inner js-file-line">  - <span class="pl-ent">platform</span>: <span class="pl-s">binary</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="file-gosund-sp111-light-yaml-LC91" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">name</span>: <span class="pl-s">$plug</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="file-gosund-sp111-light-yaml-LC92" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">output</span>: <span class="pl-s">light_relay</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="file-gosund-sp111-light-yaml-LC93" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">id</span>: <span class="pl-s">internal_light</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="file-gosund-sp111-light-yaml-LC94" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">on_turn_on</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="file-gosund-sp111-light-yaml-LC95" class="blob-code blob-code-inner js-file-line">      - <span class="pl-ent">light.turn_on</span>: <span class="pl-s">led</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="file-gosund-sp111-light-yaml-LC96" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">on_turn_off</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="file-gosund-sp111-light-yaml-LC97" class="blob-code blob-code-inner js-file-line">      - <span class="pl-ent">light.turn_off</span>: <span class="pl-s">led</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="file-gosund-sp111-light-yaml-LC98" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="file-gosund-sp111-light-yaml-LC99" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">#</span> Uses the red LED as a ESPhome status indicator</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="file-gosund-sp111-light-yaml-LC100" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">status_led</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="file-gosund-sp111-light-yaml-LC101" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">pin</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="file-gosund-sp111-light-yaml-LC102" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">number</span>: <span class="pl-s">GPIO0</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-light-yaml-L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="file-gosund-sp111-light-yaml-LC103" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">inverted</span>: <span class="pl-c1">true</span></td>
      </tr>
</table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/webbson/b0541959b92ad60c71e7faa3fbfaea98/raw/861bd2410d6a2c9150c1afc5f3f6d4fc50b809e9/gosund-sp111-light.yaml" style="float:right">view raw</a>
        <a href="https://gist.github.com/webbson/b0541959b92ad60c71e7faa3fbfaea98#file-gosund-sp111-light-yaml">gosund-sp111-light.yaml</a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div></p>
<h3>SP111 exposed as a switch</h3>
<p><div id="gist106038567" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-gosund-sp111-yaml" class="file my-2">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-yaml  ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>
      <tr>
        <td id="file-gosund-sp111-yaml-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-gosund-sp111-yaml-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">#</span> Just change name here</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-gosund-sp111-yaml-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">substitutions</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-gosund-sp111-yaml-LC3" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">plug</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>Kitchen window<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-gosund-sp111-yaml-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">plug_internal</span>: <span class="pl-s">kitchen_window</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-gosund-sp111-yaml-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">voltage_divider</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>771<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-gosund-sp111-yaml-LC6" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">current_resistor</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>0.0012<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-gosund-sp111-yaml-LC7" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-gosund-sp111-yaml-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">esphome</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-gosund-sp111-yaml-LC9" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">name</span>: <span class="pl-s">${plug_internal}</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-gosund-sp111-yaml-LC10" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">platform</span>: <span class="pl-s">ESP8266</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-gosund-sp111-yaml-LC11" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">board</span>: <span class="pl-s">esp8285</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-gosund-sp111-yaml-LC12" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-gosund-sp111-yaml-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">wifi</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-gosund-sp111-yaml-LC14" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">ssid</span>: <span class="pl-s">!secret wifiname</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-gosund-sp111-yaml-LC15" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">password</span>: <span class="pl-s">!secret wifipass</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-gosund-sp111-yaml-LC16" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-gosund-sp111-yaml-LC17" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">#</span> Enable fallback hotspot (captive portal) in case wifi connection fails</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-gosund-sp111-yaml-LC18" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">ap</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-gosund-sp111-yaml-LC19" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">ssid</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>${plug} Fallback Hotspot<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-gosund-sp111-yaml-LC20" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">password</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>3XtYLy5n2pgc<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-gosund-sp111-yaml-LC21" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-gosund-sp111-yaml-LC22" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">captive_portal</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-gosund-sp111-yaml-LC23" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-gosund-sp111-yaml-LC24" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">#</span> Enable logging</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-gosund-sp111-yaml-LC25" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">logger</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-gosund-sp111-yaml-LC26" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-gosund-sp111-yaml-LC27" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">#</span> Enable Home Assistant API</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-gosund-sp111-yaml-LC28" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">api</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-gosund-sp111-yaml-LC29" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-gosund-sp111-yaml-LC30" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">ota</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-gosund-sp111-yaml-LC31" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-gosund-sp111-yaml-LC32" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">web_server</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-gosund-sp111-yaml-LC33" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">port</span>: <span class="pl-c1">80</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-gosund-sp111-yaml-LC34" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-gosund-sp111-yaml-LC35" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">sensor</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-gosund-sp111-yaml-LC36" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">#</span> Power sensor</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-gosund-sp111-yaml-LC37" class="blob-code blob-code-inner js-file-line">  - <span class="pl-ent">platform</span>: <span class="pl-s">hlw8012</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-gosund-sp111-yaml-LC38" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">voltage_divider</span>: <span class="pl-c1">771</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-gosund-sp111-yaml-LC39" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">#</span>    current_resistor: 0.001</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-gosund-sp111-yaml-LC40" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">current_resistor</span>: <span class="pl-c1">0.0012</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-gosund-sp111-yaml-LC41" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">sel_pin</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-gosund-sp111-yaml-LC42" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">number</span>: <span class="pl-s">GPIO12</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-gosund-sp111-yaml-LC43" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">inverted</span>: <span class="pl-c1">true</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-gosund-sp111-yaml-LC44" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">cf_pin</span>: <span class="pl-s">GPIO05</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-gosund-sp111-yaml-LC45" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">cf1_pin</span>: <span class="pl-s">GPIO04</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-gosund-sp111-yaml-LC46" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">change_mode_every</span>: <span class="pl-c1">3</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-gosund-sp111-yaml-LC47" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">update_interval</span>: <span class="pl-c1">5s</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-gosund-sp111-yaml-LC48" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">#</span> Current sensor</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-gosund-sp111-yaml-LC49" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">current</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-gosund-sp111-yaml-LC50" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">name</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>${plug} current<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-gosund-sp111-yaml-LC51" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">unit_of_measurement</span>: <span class="pl-s">A</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-gosund-sp111-yaml-LC52" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">accuracy_decimals</span>: <span class="pl-c1">3</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-gosund-sp111-yaml-LC53" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">#</span> Voltage sensor</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-gosund-sp111-yaml-LC54" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">voltage</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-gosund-sp111-yaml-LC55" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">name</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>${plug} voltage<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-gosund-sp111-yaml-LC56" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">unit_of_measurement</span>: <span class="pl-s">V</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-gosund-sp111-yaml-LC57" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">accuracy_decimals</span>: <span class="pl-c1">1</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-gosund-sp111-yaml-LC58" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">#</span> Power sensor</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-gosund-sp111-yaml-LC59" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">power</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-gosund-sp111-yaml-LC60" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">id</span>: <span class="pl-s">power</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-gosund-sp111-yaml-LC61" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">name</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>${plug} power<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-gosund-sp111-yaml-LC62" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">unit_of_measurement</span>: <span class="pl-s">W</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-gosund-sp111-yaml-LC63" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">accuracy_decimals</span>: <span class="pl-c1">0</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-gosund-sp111-yaml-LC64" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">filters</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-gosund-sp111-yaml-LC65" class="blob-code blob-code-inner js-file-line">      - <span class="pl-ent">multiply</span>: <span class="pl-c1">0.5</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-gosund-sp111-yaml-LC66" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-gosund-sp111-yaml-LC67" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">binary_sensor</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-gosund-sp111-yaml-LC68" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">#</span> Binary sensor for the button press</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-gosund-sp111-yaml-LC69" class="blob-code blob-code-inner js-file-line">  - <span class="pl-ent">platform</span>: <span class="pl-s">gpio</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-gosund-sp111-yaml-LC70" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">name</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>${plug} button<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-gosund-sp111-yaml-LC71" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">pin</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-gosund-sp111-yaml-LC72" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">number</span>: <span class="pl-s">GPIO13</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-gosund-sp111-yaml-LC73" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">inverted</span>: <span class="pl-c1">true</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="file-gosund-sp111-yaml-LC74" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">on_press</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="file-gosund-sp111-yaml-LC75" class="blob-code blob-code-inner js-file-line">      - <span class="pl-ent">switch.toggle</span>: <span class="pl-s">relay</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="file-gosund-sp111-yaml-LC76" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="file-gosund-sp111-yaml-LC77" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">switch</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="file-gosund-sp111-yaml-LC78" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">#</span> Switch to toggle the relay</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="file-gosund-sp111-yaml-LC79" class="blob-code blob-code-inner js-file-line">  - <span class="pl-ent">platform</span>: <span class="pl-s">gpio</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="file-gosund-sp111-yaml-LC80" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">id</span>: <span class="pl-s">relay</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="file-gosund-sp111-yaml-LC81" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">name</span>: <span class="pl-s"><span class="pl-pds">&quot;</span>${plug} relay<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="file-gosund-sp111-yaml-LC82" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">pin</span>: <span class="pl-s">GPIO15</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="file-gosund-sp111-yaml-LC83" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">on_turn_on</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="file-gosund-sp111-yaml-LC84" class="blob-code blob-code-inner js-file-line">      - <span class="pl-ent">light.turn_on</span>: <span class="pl-s">led</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="file-gosund-sp111-yaml-LC85" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">on_turn_off</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="file-gosund-sp111-yaml-LC86" class="blob-code blob-code-inner js-file-line">      - <span class="pl-ent">light.turn_off</span>: <span class="pl-s">led</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="file-gosund-sp111-yaml-LC87" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="file-gosund-sp111-yaml-LC88" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">output</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="file-gosund-sp111-yaml-LC89" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">#</span> Relay state led</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="file-gosund-sp111-yaml-LC90" class="blob-code blob-code-inner js-file-line">  - <span class="pl-ent">platform</span>: <span class="pl-s">esp8266_pwm</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="file-gosund-sp111-yaml-LC91" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">id</span>: <span class="pl-s">state_led</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="file-gosund-sp111-yaml-LC92" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">pin</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="file-gosund-sp111-yaml-LC93" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">number</span>: <span class="pl-s">GPIO2</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="file-gosund-sp111-yaml-LC94" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">inverted</span>: <span class="pl-c1">true</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="file-gosund-sp111-yaml-LC95" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="file-gosund-sp111-yaml-LC96" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">light</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="file-gosund-sp111-yaml-LC97" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">#</span> Relay state light</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="file-gosund-sp111-yaml-LC98" class="blob-code blob-code-inner js-file-line">  - <span class="pl-ent">platform</span>: <span class="pl-s">monochromatic</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="file-gosund-sp111-yaml-LC99" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">output</span>: <span class="pl-s">state_led</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="file-gosund-sp111-yaml-LC100" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">id</span>: <span class="pl-s">led</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="file-gosund-sp111-yaml-LC101" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="file-gosund-sp111-yaml-LC102" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">#</span> Uses the red LED as a ESPhome status indicator</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="file-gosund-sp111-yaml-LC103" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">status_led</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="file-gosund-sp111-yaml-LC104" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">pin</span>:</td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="file-gosund-sp111-yaml-LC105" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">number</span>: <span class="pl-s">GPIO0</span></td>
      </tr>
      <tr>
        <td id="file-gosund-sp111-yaml-L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="file-gosund-sp111-yaml-LC106" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">inverted</span>: <span class="pl-c1">true</span></td>
      </tr>
</table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/webbson/937cc9cf014f67eea75afb328d223b0f/raw/dd759bf576c0f7d024dd74489581a24868553df0/gosund-sp111.yaml" style="float:right">view raw</a>
        <a href="https://gist.github.com/webbson/937cc9cf014f67eea75afb328d223b0f#file-gosund-sp111-yaml">gosund-sp111.yaml</a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div></p></section><hr/></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/get-a-list-of-sitecore-users/">← <!-- -->Get an exportable list of users in Sitecore using Sitecore Powershell</a></li><li><a rel="next" href="/hello-world/">Hello world / intro<!-- --> →</a></li></ul></nav></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/gosund-sp111-esphome/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f5ec1ff06108d0c85bab.js"],"app":["/app-4dcf017b93828f5893f6.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx-0f7c69e5657f66b20482.js"],"component---src-pages-about-jsx":["/component---src-pages-about-jsx-da46d6a0275b7e48705d.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx-8849f056fe256532e6b1.js"],"component---src-pages-tags-jsx":["/component---src-pages-tags-jsx-a769558c1a4ee58ac85f.js"],"component---src-templates-blog-post-jsx":["/component---src-templates-blog-post-jsx-b61ec52d5f6953dc41cc.js"],"component---src-templates-tags-jsx":["/component---src-templates-tags-jsx-6b7286af3402e110bc96.js"]};/*]]>*/</script><script src="/polyfill-f5ec1ff06108d0c85bab.js" nomodule=""></script><script src="/component---src-templates-blog-post-jsx-b61ec52d5f6953dc41cc.js" async=""></script><script src="/b7ec4a9a53c2f60dbf6d272eea6248b905830475-fa24200736daf2b6b0f4.js" async=""></script><script src="/f392fca177af3aab4cc1b9f9883337b948fd7c96-f84e27f836a0b0d63dc2.js" async=""></script><script src="/commons-860bd8c08d74af16f8c7.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-4dcf017b93828f5893f6.js" async=""></script><script src="/framework-cd3e1e804d552fa282ef.js" async=""></script><script src="/webpack-runtime-075b5726bcd5216af51a.js" async=""></script></body></html>