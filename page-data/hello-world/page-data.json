{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/hello-world/","result":{"data":{"site":{"siteMetadata":{"title":"Tom's tech blog"}},"markdownRemark":{"id":"a8a66c83-ff09-5e83-8e8a-1969bbe4afbd","excerpt":"My home automation has gone through quite a lot of stages. From just running a simple Telldus Net Classic to upgrading to Tellstick Znet Lite v2, to my current…","html":"<p>My home automation has gone through quite a lot of stages. From just running a simple Telldus Net Classic to upgrading to Tellstick Znet Lite v2, to my current setup of running a Raspberry Pi4 4GB with Home assistant Supervised.</p>\n<h2>Network</h2>\n<ul>\n<li>Unifi USG</li>\n<li>UniFi Switch 16 PoE</li>\n<li>2x Unifi AP AC Pro LR</li>\n<li>2X Unifi USW-Flex Mini</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1920px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c850b029e592e1a15f9205484b54f45f/a4202/rack.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBP/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAEdj2SlHD//xAAaEAEBAAIDAAAAAAAAAAAAAAABAgADEBET/9oACAEBAAEFApYJNpb69ZGUHH//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAcEAACAQUBAAAAAAAAAAAAAAAAEQECEBIxgVH/2gAIAQEABj8CeM+rIVMLppnTVv/EABwQAAICAgMAAAAAAAAAAAAAAAABESExQWFxkf/aAAgBAQABPyGmyugZwyuRCShyNVrUWWHgj//aAAwDAQACAAMAAAAQTO//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPxBn/8QAGxABAAMBAQEBAAAAAAAAAAAAAQARITFRYbH/2gAIAQEAAT8QBlGYV/XKh3hipz3lQUNd1K/s0vpr4q5fQ0ukHk0W6z//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Wall mounted rack\"\n        title=\"Wall mounted rack\"\n        src=\"/static/c850b029e592e1a15f9205484b54f45f/0f98f/rack.jpg\"\n        srcset=\"/static/c850b029e592e1a15f9205484b54f45f/7cc5e/rack.jpg 480w,\n/static/c850b029e592e1a15f9205484b54f45f/6a068/rack.jpg 960w,\n/static/c850b029e592e1a15f9205484b54f45f/0f98f/rack.jpg 1920w,\n/static/c850b029e592e1a15f9205484b54f45f/eec88/rack.jpg 2880w,\n/static/c850b029e592e1a15f9205484b54f45f/e6b01/rack.jpg 3840w,\n/static/c850b029e592e1a15f9205484b54f45f/a4202/rack.jpg 3871w\"\n        sizes=\"(max-width: 1920px) 100vw, 1920px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>In this rack I have my USG and main switch. This switch powers several PoE surveillance cameras as well at access points and switches.\nI also have a small ASRock DeskMini 310 server behind the fan, this is running <a href=\"https://unraid.net\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Unraid</a> with an i5 8400 and 16GB of ram. For storage it has a 512GiB SSD as well as 2*2TiB drives. This runs a VM for <a href=\"https://blueirissoftware.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Blue Iris</a> for my surveillance cameras as well as Dockers for Plex for videos and music, SABnzbd for downloading and the Unifi controller for all of my network. Previously I also ran Home Assistant on this, but I wanted to migrate that to a native host for various reasons.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1920px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/563c10a2f808d2b51cc5e5da4ebe030e/c5d70/rpi4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.91666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADhklEQVQoz02R/U8aZwDH77ctTfbDsiWNicu2dE2oxa5KK8qLoiQWO8DXKdqKSDcRi86uZTV1rmZdZrOsbbIl08WoHSrviMdxHNzxcsfB3XGvgGbuz9mhWbLkk+en7+f5fp88wEmV+z91mRp/WhdPT8R6TahV+ZrISjwtcbTIloVzRI6qSZV6nQcagsRecCFXJbYqcZLICjwjsvRZXfjnROQZkvsPli5yTEnkKaAu3yFWzuWLk5XEisDTIkefVvmzU3F3Z/P5+qqckTsrdLEBRchwTBGoC7RMTaCrAiUJlDxJDtWERjQc3ne5nEply8effvJi40e+QnJ0kS7jF7IMUJejbFliSzxLSlz5pNFQCoV8S0tuvUF3w6BqnTCoh3vVHbe9z7wUmRPZEkMVKhR+LlfIGk3WOeqsxgkMEQj85Zp/oOvWtOlVJtfQ9Ktl3Ypd/82U5r65s6vDs/wwm4F4mmDKBfnlQJXO1xiilE1t/PSDfXZKo+28dl1xZ8ZsXbZNrjosM8P9VpNlyGyc+9IycVfVflOtVUOJqFAhGblZKGFVKpdNRdtVrbP2Md/2615z3/jzr5wvFwedw1392p67RqP5TtcX+oHFUY2pZ9o5TRYyXGM2DrDFNIPDYhn9zutZeeL+7de1xQWHdX7c4rE9m7TYLcbuQaN+sr/fPTjisl291er91vM3R1EE1pCZfJLEjtkC7HHNdOo75t2OUiH26PFCn906/mDknmPQ9NRm8YwNTY9cVSr0uq6Qb6eCYzSOMmQOKKMgjsTyyfDh1hut9vbo5NDCQ+fTlaVgcMvx/VxLT5t5frzD1NvU3DQ1PgpF/QUEJLFUGUcpIgsUM/E8HEkfHWDxg1/WnihvtljHzAjip8vg+vpjncnQ3K683Ny06n2UAaNILJhLxkkULuXTFIECBBLLJkMo6E8Ed1OhHbfD9tnniol7w3Oe2bYBw7sfXb5xXfHH65dIPCyPwxIxHAGLaFL+nVIhDRTgSA4Kocd+OOI79m+D+5sDfdpbGpVar37nvUsDxu7A3mYyGoCjB1gikoePcSSBZ5JFDCZzKUDenIUazanYvlwOHm7v/f5zi+LKhx+87/n6fuzwz3hgF47so2AwC8nyUSEFEg0fIjIQkIPDGBREwQASP0hFfVBwD4m83Xr14s3GWjLyNhHaQ44OZRNLhLLJSB45wtNQEYWL2RSZT/8Lp5w7Ta0gqkEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Raspberry Pi 4 with PoE board\"\n        title=\"Raspberry Pi 4 with PoE board\"\n        src=\"/static/563c10a2f808d2b51cc5e5da4ebe030e/29114/rpi4.png\"\n        srcset=\"/static/563c10a2f808d2b51cc5e5da4ebe030e/e85cb/rpi4.png 480w,\n/static/563c10a2f808d2b51cc5e5da4ebe030e/d9199/rpi4.png 960w,\n/static/563c10a2f808d2b51cc5e5da4ebe030e/29114/rpi4.png 1920w,\n/static/563c10a2f808d2b51cc5e5da4ebe030e/c5d70/rpi4.png 1939w\"\n        sizes=\"(max-width: 1920px) 100vw, 1920px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Connected to the switch via PoE is a Raspberry Pi 4 with 4GB of ram running on latest Raspian lite 64 bit installed on an USB3 SSD. This runs Home Assistant Supervised according to <a href=\"https://community.home-assistant.io/t/installing-home-assistant-supervised-on-raspberry-pi-os/201836\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this guide</a>. This device has a <a href=\"https://phoscon.de/en/conbee2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ConBee II</a> for talking to ZigBee devices like Philips Hue and Ikea Trådfri. As well as an RTL2832U based SDR for recieving 433 MHz signals from a bunch of temperature sensors I didn’t want to replace when changing from Telldus, for this I’m using <a href=\"https://github.com/merbanan/rtl_433\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">rtl_433</a> which feeds to MQTT where Home Asssistant picks up the values.</p>\n<p>For light controlling I’m running a bunch of GoSund SP-111 outlets flashed with <a href=\"https://esphome.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ESPHome</a> as well a couple of <a href=\"https://shop.shelly.cloud/shelly-1-wifi-smart-home-automation\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Shelly 1</a> flashed to <a href=\"https://esphome.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ESPHome</a>. For these two I will write more guides in other posts.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1920px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6f89e5001099a568a33ab5bd051898e9/93719/shellyflash.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAVKMemIG4f/EABsQAAMAAgMAAAAAAAAAAAAAAAECAxETISIz/9oACAEBAAEFAtpoieJyDs6R5jWZZ//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/Aaf/xAAXEQADAQAAAAAAAAAAAAAAAAABEBFB/9oACAECAQE/AYMX/8QAGxAAAgIDAQAAAAAAAAAAAAAAABEBAiJBUWH/2gAIAQEABj8Cy0RxCIqivg4P/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARITFB/9oACAEBAAE/Ie5V4it11q41p0angs9j26WyWhn/2gAMAwEAAgADAAAAEFAP/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/EBOz/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/ELAx/8QAHhABAAICAQUAAAAAAAAAAAAAAQARIVExQWFx0fD/2gAIAQEAAT8QHOF1WW+8SyxgG8NMZ8KUpU1esPcdWQybFqICAhfn6p//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Shelly 1 flashing\"\n        title=\"Shelly 1 flashing\"\n        src=\"/static/6f89e5001099a568a33ab5bd051898e9/0f98f/shellyflash.jpg\"\n        srcset=\"/static/6f89e5001099a568a33ab5bd051898e9/7cc5e/shellyflash.jpg 480w,\n/static/6f89e5001099a568a33ab5bd051898e9/6a068/shellyflash.jpg 960w,\n/static/6f89e5001099a568a33ab5bd051898e9/0f98f/shellyflash.jpg 1920w,\n/static/6f89e5001099a568a33ab5bd051898e9/eec88/shellyflash.jpg 2880w,\n/static/6f89e5001099a568a33ab5bd051898e9/e6b01/shellyflash.jpg 3840w,\n/static/6f89e5001099a568a33ab5bd051898e9/93719/shellyflash.jpg 4000w\"\n        sizes=\"(max-width: 1920px) 100vw, 1920px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"Hello world / intro","date":"December 12, 2020","description":"My home automation has gone through quite a lot of stages. Here I will describe how my setup looks at the moment.","tags":["home assistant","raspberry pi","network"]}},"previous":null,"next":null},"pageContext":{"id":"a8a66c83-ff09-5e83-8e8a-1969bbe4afbd","previousPostId":null,"nextPostId":null}},"staticQueryHashes":["2841359383","3700319767"]}